---
import SectionLayout from "../SectionLayout.astro";

interface Props {
  subject: string;
  position: number;
}

const { position, subject } = Astro.props;
---

<script></script>
<SectionLayout name="horarios" position={position}>
  <h1 class="text-[36px] font-bold text-center p-4">
    Horarios 2do Cuatrimestre
  </h1>
  <template x-if="Object.keys($store.timetable.timetable).length === 0">
    <p>Proximamente...</p>
  </template>
  <template x-if="Object.keys($store.timetable.timetable).length > 0">
    <div>
      <div
        class="hidden md:grid grid-cols-[40px_repeat(5,minmax(0,1fr))] grid-rows-[32px_repeat(3,minmax(0,1fr))_12px_repeat(3,minmax(0,1fr))] items-stretch border-gray-400 border-2 w-full max-w-full rounded-xl overflow-hidden gap-[1px] bg-gray-400"
      >
        <div
          class="grid grid-cols-subgrid grid-rows-1 col-span-full bg-gray-300 text-gray-600 text-[14px] md:text-[16px] font-bold items-stretch"
        >
          <div class="col-start-2 flex items-center justify-center">Lunes</div>
          <div class="col-start-3 flex items-center justify-center">Martes</div>
          <div class="col-start-4 flex items-center justify-center">
            Miércoles
          </div>
          <div class="col-start-5 flex items-center justify-center">Jueves</div>
          <div class="col-start-6 flex items-center justify-center">
            Viernes
          </div>
        </div>
        <div
          class="grid grid-rows-subgrid grid-cols-subgrid col-start-1 row-start-2 -row-end-1 bg-gray-50"
        >
          <div class="col-start-1 row-start-1 flex justify-center items-center">
            1
          </div>
          <div class="col-start-1 row-start-2 flex justify-center items-center">
            2
          </div>
          <div class="col-start-1 row-start-3 flex justify-center items-center">
            3
          </div>
          <div class="col-start-1 row-start-5 flex justify-center items-center">
            4
          </div>
          <div class="col-start-1 row-start-6 flex justify-center items-center">
            5
          </div>
          <div class="col-start-1 row-start-7 flex justify-center items-center">
            6
          </div>
        </div>
        <div
          class="grid grid-cols-subgrid grid-rows-subgrid row-start-2 -row-end-1 col-start-2 -col-end-1"
        >
          <div class="row-start-4 bg-gray-300 col-span-full"></div>
          <template
            x-for="[row,col] in [[1,1],[1,2],[1,3],[1,4],[1,5],[2,1],[2,2],[2,3],[2,4],[2,5],[3,1],[3,2],[3,3],[3,4],[3,5],[5,1],[5,2],[5,3],[5,4],[5,5],[6,1],[6,2],[6,3],[6,4],[6,5],[7,1],[7,2],[7,3],[7,4],[7,5]]"
          >
            <div
              class="bg-gray-50 flex flex-col"
              x-data="{ slotData: []}"
              x-effect={`slotData = $store.timetable.getTimetableByGridPos(row, col)`}
              :style="{ gridcolumnstart: col, gridrowstart: row }"
            >
              <template x-for="{subject,room,teacher} in slotData">
                <div
                  class="flex flex-col items-center h-full gap-y-1"
                  :class="{'bg-sh-medium-red': subject === 'Hardware', 'bg-sh-medium-blue' : subject === 'Frontend', 'bg-sh-medium-green' : subject === 'Backend', 'bg-sh-medium-yellow': subject === 'TIMI'}"
                >
                  <span
                    class="text-sh-black text-[14px] md:text-[16px] font-semibold"
                    x-text="subject"></span>
                  <span
                    class="text-gray-600 text-[12px] md:text-[14px]"
                    x-text="room"></span>
                  <span
                    class="text-gray-600 text-[12px] md:text-[14px]"
                    x-text="teacher"></span>
                </div>
              </template>
            </div>
          </template>
        </div>
      </div>
      <div class="flex md:hidden">
        <p>
          Shulian tiene <strong>VIDA</strong> y todavía no hizo la versión mobile
          del horario. Si lo miran en la compu está todo ok.
        </p>
      </div>
    </div>
  </template>
</SectionLayout>
