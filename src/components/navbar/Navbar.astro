---
import MarkLink from "./MarkLink.astro";

interface Props {
  course: string;
  subject: string;
}

interface Item {
  name: string;
  icon: string;
  title: string;
}

const { course, subject } = Astro.props;

const items = [
  { name: "home", icon: "home", title: subject },
  { name: "actividades", icon: "school", title: "Actividades" },
  { name: "reentregas", icon: "replay", title: "Reentregas" },
  { name: "programa", icon: "event_note", title: "Programa" },
  { name: "material", icon: "construction", title: "Material" },
] as Item[];
---

<nav
  class="flex flex-col gap-y-2 bg-sh-black text-white p-4 lg:w-[250px] shrink-0 h-full leading-normal rounded-xl"
  x-data={`{items: ${JSON.stringify(items)},open: false, isMobile: true}`}
  x-tw:max-lg="isMobile = true"
  x-tw:lg="isMobile = false"
>
  <div class="pb-4 lg:hidden">
    <span
      class="text-[24px] material-symbols-outlined cursor-pointer bg-gray-50 rounded-full p-2 text-sh-black"
      x-text="'menu'"
      x-on:click="open = !open"></span>
  </div>
  <template x-for="item in items">
    <div
      x-on:click="$store.section.changeSection(item.name)"
      class="flex items-center p-2 cursor-pointer gap-x-4 rounded-md"
      x-bind:class="{ 'bg-sh-dark-gray': $store.section.currentSection === item.name }"
    >
      <span x-text="item.icon" class="material-symbols-outlined text-[24px]"
      ></span>
      <span
        class="text-lg"
        x-text="item.name[0].toUpperCase() + item.name.slice(1, item.name.length)"
        x-show="open || !isMobile"></span>
    </div>
  </template>
  <!-- <MarkLink course={course} /> -->
</nav>
