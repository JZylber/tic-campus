---
interface Props {
  course: string;
}

const { course } = Astro.props;
---

<template
  x-if={`$store.student.course === '${course}' && $store.student.markData.finalMark`}
>
  <div
    class="w-full rounded-2xl bg-sh-purple p-4 mt-auto mb-10 flex flex-col items-center gap-y-3 text-sh-dark-gray"
  >
    <span class="text-[20px] font-semibold">Nota Parcial</span>
    <div
      class="flex flex-col items-center gap-y-1"
      x-data="{ passed: false }"
      x-init="passed = $store.student.markData.finalMark >= 6"
    >
      <div
        class="text-[30px] font-bold border-4 bg-sh-light-purple rounded-full aspect-square flex justify-center items-center"
        x-bind:class="{ 'border-sh-dark-gray text-sh-dark-gray': passed, 'border-sh-red text-sh-red': !passed }"
      >
        <span x-text="$store.student.markData.finalMark"></span>
      </div>
      <span
        x-text="passed ? 'Aprobado' : 'En Proceso'"
        class="text-[16px] font-semibold"></span>
    </div>
    <p
      class="text-gray-600 cursor-pointer"
      x-on:click="$store.section.changeSection('nota')"
    >
      <span class="hover:underline">Más Información</span>
    </p>
  </div>
</template>
